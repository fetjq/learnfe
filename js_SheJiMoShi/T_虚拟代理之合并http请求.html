<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>合并http请求</title>
	<script>
     function A(s){alert(s)}function C(s){console.log(s)}function T(a,b){if(a===b){return console.log('全等!');}if(a==b){return console.log('表面等!')}return console.log('不等')}function tp(){switch(typeof arguments[0]){case 'string':return console.log(arguments[0]+'的类型为string');break;case 'number':return console.log(arguments[0]+'的类型为number');break;case 'boolean':return console.log(arguments[0]+'的类型为boolean');break;case 'undefined':return console.log(arguments[0]+'的类型为undefined');break;case 'function':return console.log(arguments[0]+'的类型为function');break;}return console.log(arguments[0]+'的类型为'+Object.prototype.toString.call(arguments[0]));}



	</script>
</head>
<body>
	<input type="checkbox" id="checkBox1">
	<input type="checkbox" id="checkBox2">
	<input type="checkbox" id="checkBox3">
	<input type="checkbox" id="checkBox4">
	<input type="checkbox" id="checkBox5">
	<input type="checkbox" id="checkBox6">
	<input type="checkbox" id="checkBox7">
	<input type="checkbox" id="checkBox8">
	<input type="checkbox" id="checkBox10">
	<input type="checkbox" id="checkBox11">
	<script>

/*
//网络开销大，每点击一个就发送一次同步请求,最好的解决方案是设置延时虚拟代理
var syncFile=function(id){
	console.log('开始同步文件操作,文件id为'+id);
}
var inputDom=document.getElementsByTagName('input');
for(var i=0,c;c=inputDom[i++];){
      c.onclick=function(){
    if(this.checked==true){
	syncFile();
    }
  }
}*/
var syncFile=function(id){
	console.log('开始同步文件操作,文件id为'+id);
}

var proxySyncFile=(function(){
var cache=[],timer;

return function(id){
	cache.push(id);
	if(timer){
		return;
	}
	timer=setTimeout(function(){
		syncFile(cache.join(','));//以逗号拆分成字符串
		clearTimeout(timer);
		timer=null;
		cache.length=0;
	},2000);
}
})();



		
	</script>
</body>
</html>