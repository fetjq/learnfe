<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" type="text/css" href="bootstarpmin.css">
	<style>
body{font-family:"Lato","Hiragino Sans GB","Helvetica Neue","Micrsoft YaHei",sans-serif;background-color:#f7f8f9;}
ul{margin-top:10px;}
p{margin-top:10px;margin-bottom:10px;}
.well{max-height:400px;overflow-y:scroll;}
	</style>
	<script type="text/javascript" src="vue.js"></script>
	<script type="text/javascript" src="vue-router.js"></script>
</head>
<body>

<div id="app">
	<div class="row">
		<div class="col-xs-offset-2 col-xs-8">
			<div class="page-header">
				<h2>基础路由2</h2>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-xs-2 col-xs-offset-2">
			<div class="list-group">
				<a class="list-group-item" v-link="{path:'/home'}">Home</a>
				<a class="list-group-item" v-link="{path:'/about'}">About</a>
			</div>
		</div>
		<div class="col-xs-6">
			<div class="panel">
				<div class="panel-body">
					<router-view></router-view>
				</div>
			</div>
		</div>
	</div>
</div>

<template id="home">
    <div>
        <h1>Home</h1>
        <p>{{msg}}</p>
    </div>
    <div>
        <ul class="nav nav-tabs">
            <li>
                <a v-link="{ path: '/home/news'}">News</a>
            </li>
            <li>
                <a v-link="{ path: '/home/message'}">Messages</a>
            </li>
        </ul>
        <router-view></router-view>
    </div>
</template>

<template id="news">
    <ul>
        <li>News 01</li>
        <li>News 02</li>
        <li>News 03</li>
    </ul>
</template>
<template id="message">
    <ul>
        <li>Message 01</li>
        <li>Message 02</li>
        <li>Message 03</li>
    </ul>
</template>
	<template id="about">
			<div>
				<h1>About</h1>
				<p>这是关于页面的内容</p>
			</div>
		</template>

	<script type="text/javascript">
	var Home=Vue.extend({
		template:'#home',
		data:function(){
			return {
				msg:'Hello,vue路由'
			}
		}
	});
	var News=Vue.extend({
		template:'#news'
	});
	var Message=Vue.extend({
		template:'#message'
	});
	var About=Vue.extend({
		template:'#about'
	});
	var router=new VueRouter();
	//redirect用于为路由器定义全局的重定向规则，全局的重定向会在匹配当前路径之前执行
	router.redirect({
		'/':'/home'
	});

	router.map({
		'/home':{
			component:Home,
			//定义子路由
			subRoutes:{
				'/news':{
					component:News
				},
				'/message':{
					component:Message
				}
			}
		},
		'/about':{
			component:About
		}
	})
	var App=Vue.extend({});
	router.start(App,'#app');
	</script>
</body>
</html>		